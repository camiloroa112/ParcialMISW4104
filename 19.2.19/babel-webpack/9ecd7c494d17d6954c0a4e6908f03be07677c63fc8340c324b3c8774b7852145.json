{"ast":null,"code":"import _asyncToGenerator from \"/home/csharp/Documents/ingenieria-de-software-app-web/evaluacion-practica/ParcialMISW4104/vehiculos/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { of } from 'rxjs';\nimport { By } from '@angular/platform-browser';\nimport { VehiculosComponente } from './vehiculos.component';\nimport { TestBed } from '@angular/core/testing';\nimport { VehiculoService } from './service/vehiculo-service.service';\n// Mock de datos (3 vehículos)\nconst mockVehiculos = [{\n  id: 1,\n  marca: 'Renault',\n  linea: 'Kangoo',\n  modelo: 2017\n}, {\n  id: 2,\n  marca: 'Chevrolet',\n  linea: 'Spark',\n  modelo: 2018\n}, {\n  id: 3,\n  marca: 'Nissan',\n  linea: 'March',\n  modelo: 2019\n}];\ndescribe('VehiculosComponente', () => {\n  let fixture;\n  let component;\n  // Creamos un mock del servicio\n  const vehiculoServiceMock = {\n    getVehiculos: () => of(mockVehiculos)\n  };\n  beforeEach(/*#__PURE__*/_asyncToGenerator(function* () {\n    yield TestBed.configureTestingModule({\n      imports: [VehiculosComponente],\n      providers: [{\n        provide: VehiculoService,\n        useValue: vehiculoServiceMock\n      }]\n    }).compileComponents();\n    fixture = TestBed.createComponent(VehiculosComponente);\n    component = fixture.componentInstance;\n    fixture.detectChanges(); // dispara ngOnInit y el renderizado inicial\n  }));\n  it('debe crear el componente', () => {\n    expect(component).toBeTruthy();\n  });\n  it('debe renderizar una tabla con 3 filas de vehículos más el encabezado', () => {\n    // Esperamos a que se renderice la tabla\n    const table = fixture.debugElement.query(By.css('table'));\n    expect(table).toBeTruthy();\n    // Contar filas del cuerpo de la tabla\n    const rows = fixture.debugElement.queryAll(By.css('tbody tr'));\n    expect(rows.length).toBe(3);\n    // Verificar encabezado\n    const header = fixture.debugElement.queryAll(By.css('thead tr th'));\n    expect(header.length).toBe(4); // #, Marca, Línea, Modelo\n  });\n});","map":{"version":3,"names":["of","By","VehiculosComponente","TestBed","VehiculoService","mockVehiculos","id","marca","linea","modelo","describe","fixture","component","vehiculoServiceMock","getVehiculos","beforeEach","_asyncToGenerator","configureTestingModule","imports","providers","provide","useValue","compileComponents","createComponent","componentInstance","detectChanges","it","expect","toBeTruthy","table","debugElement","query","css","rows","queryAll","length","toBe","header"],"sources":["/home/csharp/Documents/ingenieria-de-software-app-web/evaluacion-practica/ParcialMISW4104/vehiculos/src/app/vehiculos/vehiculos.component.spec.ts"],"sourcesContent":["import { of } from 'rxjs';\nimport { By } from '@angular/platform-browser';\nimport { VehiculosComponente } from './vehiculos.component';\nimport { ComponentFixture, TestBed } from '@angular/core/testing';\nimport { VehiculoService } from './service/vehiculo-service.service';\n\n// Mock de datos (3 vehículos)\nconst mockVehiculos = [\n  { id: 1, marca: 'Renault', linea: 'Kangoo', modelo: 2017 },\n  { id: 2, marca: 'Chevrolet', linea: 'Spark', modelo: 2018 },\n  { id: 3, marca: 'Nissan', linea: 'March', modelo: 2019 }\n];\n\ndescribe('VehiculosComponente', () => {\n  let fixture: ComponentFixture<VehiculosComponente>;\n  let component: VehiculosComponente;\n\n  // Creamos un mock del servicio\n  const vehiculoServiceMock = {\n    getVehiculos: () => of(mockVehiculos)\n  };\n\n  beforeEach(async () => {\n    await TestBed.configureTestingModule({\n      imports: [VehiculosComponente],\n      providers: [{ provide: VehiculoService, useValue: vehiculoServiceMock }]\n    }).compileComponents();\n\n    fixture = TestBed.createComponent(VehiculosComponente);\n    component = fixture.componentInstance;\n    fixture.detectChanges(); // dispara ngOnInit y el renderizado inicial\n  });\n\n  it('debe crear el componente', () => {\n    expect(component).toBeTruthy();\n  });\n\n  it('debe renderizar una tabla con 3 filas de vehículos más el encabezado', () => {\n    // Esperamos a que se renderice la tabla\n    const table = fixture.debugElement.query(By.css('table'));\n    expect(table).toBeTruthy();\n\n    // Contar filas del cuerpo de la tabla\n    const rows = fixture.debugElement.queryAll(By.css('tbody tr'));\n    expect(rows.length).toBe(3);\n\n    // Verificar encabezado\n    const header = fixture.debugElement.queryAll(By.css('thead tr th'));\n    expect(header.length).toBe(4); // #, Marca, Línea, Modelo\n  });\n});\n"],"mappings":";AAAA,SAASA,EAAE,QAAQ,MAAM;AACzB,SAASC,EAAE,QAAQ,2BAA2B;AAC9C,SAASC,mBAAmB,QAAQ,uBAAuB;AAC3D,SAA2BC,OAAO,QAAQ,uBAAuB;AACjE,SAASC,eAAe,QAAQ,oCAAoC;AAEpE;AACA,MAAMC,aAAa,GAAG,CACpB;EAAEC,EAAE,EAAE,CAAC;EAAEC,KAAK,EAAE,SAAS;EAAEC,KAAK,EAAE,QAAQ;EAAEC,MAAM,EAAE;AAAI,CAAE,EAC1D;EAAEH,EAAE,EAAE,CAAC;EAAEC,KAAK,EAAE,WAAW;EAAEC,KAAK,EAAE,OAAO;EAAEC,MAAM,EAAE;AAAI,CAAE,EAC3D;EAAEH,EAAE,EAAE,CAAC;EAAEC,KAAK,EAAE,QAAQ;EAAEC,KAAK,EAAE,OAAO;EAAEC,MAAM,EAAE;AAAI,CAAE,CACzD;AAEDC,QAAQ,CAAC,qBAAqB,EAAE,MAAK;EACnC,IAAIC,OAA8C;EAClD,IAAIC,SAA8B;EAElC;EACA,MAAMC,mBAAmB,GAAG;IAC1BC,YAAY,EAAEA,CAAA,KAAMd,EAAE,CAACK,aAAa;GACrC;EAEDU,UAAU,cAAAC,iBAAA,CAAC,aAAW;IACpB,MAAMb,OAAO,CAACc,sBAAsB,CAAC;MACnCC,OAAO,EAAE,CAAChB,mBAAmB,CAAC;MAC9BiB,SAAS,EAAE,CAAC;QAAEC,OAAO,EAAEhB,eAAe;QAAEiB,QAAQ,EAAER;MAAmB,CAAE;KACxE,CAAC,CAACS,iBAAiB,EAAE;IAEtBX,OAAO,GAAGR,OAAO,CAACoB,eAAe,CAACrB,mBAAmB,CAAC;IACtDU,SAAS,GAAGD,OAAO,CAACa,iBAAiB;IACrCb,OAAO,CAACc,aAAa,EAAE,CAAC,CAAC;EAC3B,CAAC,EAAC;EAEFC,EAAE,CAAC,0BAA0B,EAAE,MAAK;IAClCC,MAAM,CAACf,SAAS,CAAC,CAACgB,UAAU,EAAE;EAChC,CAAC,CAAC;EAEFF,EAAE,CAAC,sEAAsE,EAAE,MAAK;IAC9E;IACA,MAAMG,KAAK,GAAGlB,OAAO,CAACmB,YAAY,CAACC,KAAK,CAAC9B,EAAE,CAAC+B,GAAG,CAAC,OAAO,CAAC,CAAC;IACzDL,MAAM,CAACE,KAAK,CAAC,CAACD,UAAU,EAAE;IAE1B;IACA,MAAMK,IAAI,GAAGtB,OAAO,CAACmB,YAAY,CAACI,QAAQ,CAACjC,EAAE,CAAC+B,GAAG,CAAC,UAAU,CAAC,CAAC;IAC9DL,MAAM,CAACM,IAAI,CAACE,MAAM,CAAC,CAACC,IAAI,CAAC,CAAC,CAAC;IAE3B;IACA,MAAMC,MAAM,GAAG1B,OAAO,CAACmB,YAAY,CAACI,QAAQ,CAACjC,EAAE,CAAC+B,GAAG,CAAC,aAAa,CAAC,CAAC;IACnEL,MAAM,CAACU,MAAM,CAACF,MAAM,CAAC,CAACC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;EACjC,CAAC,CAAC;AACJ,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}