{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { map, shareReplay } from 'rxjs/operators';\nimport { Injectable, inject } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nlet VehiculoService = class VehiculoService {\n  http = inject(HttpClient);\n  apiUrl = 'https://gist.githubusercontent.com/josejbocanegra/17bb8c76405e43655d551a90800c8a81/raw/d41b4acc3457e51e7533fad6d5e9925ee9676457/202212_MISW4104_Grupo1.json';\n  // Fuente única de verdad (cacheada)\n  vehiculos$ = this.http.get(this.apiUrl).pipe(shareReplay(1));\n  total$ = this.vehiculos$.pipe(map(list => list.length));\n  porMarcaLista$ = this.vehiculos$.pipe(map(list => {\n    const acc = {};\n    for (const v of list) acc[v.marca] = (acc[v.marca] ?? 0) + 1;\n    return Object.entries(acc).map(([marca, cantidad]) => ({\n      marca,\n      cantidad\n    })).sort((a, b) => a.marca.localeCompare(b.marca));\n  }));\n  getVehiculos() {\n    return this.http.get(this.apiUrl);\n  }\n};\nVehiculoService = __decorate([Injectable({\n  providedIn: 'root'\n})], VehiculoService);\nexport { VehiculoService };","map":{"version":3,"names":["map","shareReplay","Injectable","inject","HttpClient","VehiculoService","http","apiUrl","vehiculos$","get","pipe","total$","list","length","porMarcaLista$","acc","v","marca","Object","entries","cantidad","sort","a","b","localeCompare","getVehiculos","__decorate","providedIn"],"sources":["/home/csharp/Documents/ingenieria-de-software-app-web/evaluacion-practica/ParcialMISW4104/vehiculos/src/app/vehiculos/service/vehiculo-service.service.ts"],"sourcesContent":["// src/app/features/vehicles/vehicles.service.ts\nimport { Observable } from 'rxjs';\nimport { map, shareReplay } from 'rxjs/operators';\nimport { Injectable,inject } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport type { VehiculoInterfaz } from '../features/vehiculos.interface/vehiculo.interfaz';\n\n@Injectable({ providedIn: 'root' })\n\nexport class VehiculoService {\n  private readonly http = inject(HttpClient);\n  private readonly apiUrl = 'https://gist.githubusercontent.com/josejbocanegra/17bb8c76405e43655d551a90800c8a81/raw/d41b4acc3457e51e7533fad6d5e9925ee9676457/202212_MISW4104_Grupo1.json';\n\n  // Fuente única de verdad (cacheada)\n  readonly vehiculos$: Observable<VehiculoInterfaz[]> = this.http.get<VehiculoInterfaz[]>(this.apiUrl).pipe(shareReplay(1));\n\n  readonly total$: Observable<number> = this.vehiculos$.pipe(\n    map(list => list.length)\n  );\n\n  readonly porMarcaLista$: Observable<Array<{ marca: string; cantidad: number }>> =\n    this.vehiculos$.pipe(\n      map(list => {\n        const acc: Record<string, number> = {};\n        for (const v of list) acc[v.marca] = (acc[v.marca] ?? 0) + 1;\n        return Object.entries(acc)\n          .map(([marca, cantidad]) => ({ marca, cantidad }))\n          .sort((a, b) => a.marca.localeCompare(b.marca));\n      })\n    );\n  \n  getVehiculos(): Observable<VehiculoInterfaz[]> {\n    return this.http.get<VehiculoInterfaz[]>(this.apiUrl);\n  }\n}"],"mappings":";AAEA,SAASA,GAAG,EAAEC,WAAW,QAAQ,gBAAgB;AACjD,SAASC,UAAU,EAACC,MAAM,QAAQ,eAAe;AACjD,SAASC,UAAU,QAAQ,sBAAsB;AAK1C,IAAMC,eAAe,GAArB,MAAMA,eAAe;EACTC,IAAI,GAAGH,MAAM,CAACC,UAAU,CAAC;EACzBG,MAAM,GAAG,6JAA6J;EAEvL;EACSC,UAAU,GAAmC,IAAI,CAACF,IAAI,CAACG,GAAG,CAAqB,IAAI,CAACF,MAAM,CAAC,CAACG,IAAI,CAACT,WAAW,CAAC,CAAC,CAAC,CAAC;EAEhHU,MAAM,GAAuB,IAAI,CAACH,UAAU,CAACE,IAAI,CACxDV,GAAG,CAACY,IAAI,IAAIA,IAAI,CAACC,MAAM,CAAC,CACzB;EAEQC,cAAc,GACrB,IAAI,CAACN,UAAU,CAACE,IAAI,CAClBV,GAAG,CAACY,IAAI,IAAG;IACT,MAAMG,GAAG,GAA2B,EAAE;IACtC,KAAK,MAAMC,CAAC,IAAIJ,IAAI,EAAEG,GAAG,CAACC,CAAC,CAACC,KAAK,CAAC,GAAG,CAACF,GAAG,CAACC,CAAC,CAACC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC;IAC5D,OAAOC,MAAM,CAACC,OAAO,CAACJ,GAAG,CAAC,CACvBf,GAAG,CAAC,CAAC,CAACiB,KAAK,EAAEG,QAAQ,CAAC,MAAM;MAAEH,KAAK;MAAEG;IAAQ,CAAE,CAAC,CAAC,CACjDC,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAACL,KAAK,CAACO,aAAa,CAACD,CAAC,CAACN,KAAK,CAAC,CAAC;EACnD,CAAC,CAAC,CACH;EAEHQ,YAAYA,CAAA;IACV,OAAO,IAAI,CAACnB,IAAI,CAACG,GAAG,CAAqB,IAAI,CAACF,MAAM,CAAC;EACvD;CACD;AAzBYF,eAAe,GAAAqB,UAAA,EAF3BxB,UAAU,CAAC;EAAEyB,UAAU,EAAE;AAAM,CAAE,CAAC,C,EAEtBtB,eAAe,CAyB3B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}